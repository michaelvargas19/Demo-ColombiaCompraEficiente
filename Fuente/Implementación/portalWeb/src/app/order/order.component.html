<br/>
<h2>Carrito</h2>
<br/>



<div class="div-mat-card" >

    <mat-card>
        <mat-card-subtitle>
            Seleccion de productos
        </mat-card-subtitle>

        <div class="col-md-12">
            <label class="placeholder letter"><b>Filtro:</b></label>
            <input (keyup)="filtrarTabla($event)" type="text" class="form-control col-md-3">
        </div>
        
        <table mat-table class="col-md-12 mt-4 text-center" multiTemplateDataRows [dataSource]="dataSource" matSort>
            
            <div matColumnDef="idProducto" >
                <th mat-sort-header mat-header-cell *matHeaderCellDef> <b>idProducto</b> </th>
                <td class="text-left" mat-cell *matCellDef="let element"> {{getNombreProducto(element.idProducto)}} </td>                
            </div>

            <div matColumnDef="idOrden" >
                
                <th mat-sort-header mat-header-cell *matHeaderCellDef> <b>idOrden</b> </th>
                <td class="text-left" mat-cell *matCellDef="let element"> {{element.idOrden}} </td>                
            </div>

            <div matColumnDef="cantidad" >
                <th mat-sort-header mat-header-cell *matHeaderCellDef> <b>cantidad</b> </th>
                <td class="text-left" mat-cell *matCellDef="let element"> {{element.cantidad}} </td>                
            </div>




            <div matColumnDef="expandedDetail">
                <td mat-cell *matCellDef="let element" [attr.colspan]="columnsToDisplay.length">
                    <div class="example-element-detail"
                        [@detailExpand]="element == expandedElement ? 'expanded' : 'collapsed'">
                        <div class="example-element-diagram col-md-12">                                            
                            <table class="table table-bordered mt-2">
                                <tbody >
                                <tr>
                                    <ng-container >
                                        <td class="text-center">
                                            
                                            <button
                                                matTooltip="Eliminar del carrito" 
                                                (click)="eliminarProducto(element)" class="btn btn-outline-primary  mx-auto">
                                                <mat-icon>save</mat-icon>  Eliminar del Carrito
                                            </button>


                                        </td>
                                        <td >
                                        
                                        </td>
                                    </ng-container>
                                </tr>    
                                </tbody>
                            </table>                                            
                        </div>                                        
                    </div>
                </td>
            </div>

            <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
            <tr mat-row *matRowDef="let element; columns: columnsToDisplay;" class="example-element-row"
                [class.example-expanded-row]="expandedElement === element"
                (click)="expandedElement = expandedElement === element ? null : element">
            </tr>
            <tr mat-row *matRowDef="let row; columns: ['expandedDetail']" class="example-detail-row">
            </tr>
        </table>
        <mat-paginator [pageSizeOptions]="[10, 20, 50]" showFirstLastButtons></mat-paginator>
    
    </mat-card>

</div>


<app-modal></app-modal>